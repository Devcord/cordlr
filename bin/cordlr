#!/usr/bin/env node
const minimist = require('minimist')
const Help = require('./methods/help')
const Version = require('./methods/version')
const Start = require('./methods/start')

/**
 * Create bot using command line.
**/

// CLI data
const flags = minimist(process.argv.slice(2), {
  alias: {
    prefix: 'x',
    help: 'h',
    version: 'v',
    plugins: ['p', 'plugin'],
    token: 't',
    loader: 'l'
  }
})

function main () {
  // --help, -h
  if (flags.help) return new Help()

  // --version, -v
  if (flags.version) return new Version()

  // otherwise, start it!
  return new Start(flags)
}

// Start CLI
main()

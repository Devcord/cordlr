#!/usr/bin/env node
const Version = require('./methods/version')
const Start = require('./methods/start')

/**
 * Create bot using command line.
 **/

// CLI Data
require('yargs') // eslint-disable-line
  .command({
    command: 'start',
    aliases: ['s'],
    description: 'Start the Discord Bot',
    handler: (argv) => {
      return new Start()
    }
  })
  .command({
    command: 'update',
    description: 'Update all installed Cordlr Plugins',
    aliases: ['u'],
    handler: (argv) => {
      console.log('Update')
      // NPM update Wrapper goes here....
      // TODO: Make the wrapper
    }
  })
  .command({
    command: 'install',
    description: 'Install and Add new Cordlr Plugin(s)',
    aliases: ['i'],
    handler: (argv) => {
      argv._.forEach((a) => {
        if (a !== 'install') {
          console.log(a)
          // NPM Install Wrapper goes here...
          // TODO: Make the wrapper
        }
      })
    }
  })
  .command({
    command: 'version',
    description: 'Show package version',
    aliases: ['v'],
    handler: (argv) => {
      return new Version()
    }
  })
  .updateStrings({
    'Commands:': 'Cordlr Bot Commands:\n'
  })
  .recommendCommands()
  .demandCommand(1, 'You need at least one command before moving on')
  .usage('Cordlr Discord Bot - CLI\nUsage: $0 [command]')
  .example('$0 start')
  .example('$0 install [plugins]')
  .example('$0 update')
  .example('$0 version')
  .help('help', true) .alias('h', 'help')
  .argv

